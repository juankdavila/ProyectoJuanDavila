-- FUNCTION: public.SP_GET_PROMOCION_PRODUCTO(integer)

-- DROP FUNCTION IF EXISTS public."SP_GET_PROMOCION_PRODUCTO"(integer);

CREATE OR REPLACE FUNCTION public."SP_GET_PROMOCION_PRODUCTO"(
	pi_id_producto integer)
    RETURNS void
    LANGUAGE 'plpgsql'
    COST 100
    VOLATILE PARALLEL UNSAFE
AS $BODY$
BEGIN
	
	SELECT isnull(SUM(MONTO_DESCUENTO),0) MONTO_DESCUENTO
	FROM "PROMOCIONES_PRODUCTO"
	WHERE ID_PRODUCTO=@PI_ID_PRODUCTO;

END;
$BODY$;

ALTER FUNCTION public."SP_GET_PROMOCION_PRODUCTO"(integer)
    OWNER TO postgres;